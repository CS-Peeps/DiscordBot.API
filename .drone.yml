kind: pipeline
name: default

steps:
- name: docker  
  image: plugins/docker
  settings:
    repo: https://registry.strecks.net/discord-bot-drone
    registry: https://registry.strecks.net
    auto_tag: true
    dockerfile: Dockerfile
    username:
      from_secret: DOCKER_USERNAME
    password:
      from_secret: DOCKER_PASSWORD
    environment:
      PLUGIN_DEBUG: true
  # - name: build
  #   image: node
  #   commands:
  #     - npm install
  #   environment:
  #     NODE_ENV: production
  #     DISCORD_BOT:
  #       from_secret: DISCORD_BOT
  #     STEAM_API_KEY:
  #       from_secret: STEAM_API_KEY

  